<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Blog">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Slorui">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/plugin/bganimation/bg.css">

  

  <link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" rel="stylesheet" type="text/css">
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <div class="outer">
        <div class="widget-wrap mobile-header">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="/images/20210321171549.jpg">
    <h2 class="author">Slorui</h2>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>41</strong><br>文章</div></a>
      <a href="/categories"><div><strong>7</strong><br>分类</div></a>
      <a href="/tags"><div><strong>11</strong><br>标签</div></a>
    </div>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

        <section id="main">
  
    <article id="post-算法/链表" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/21/%E7%AE%97%E6%B3%95/%E9%93%BE%E8%A1%A8/" class="article-date">
  <time class="post-time" datetime="2021-03-21T08:53:05.711Z" itemprop="datePublished">
    <span class="post-month">3月</span><br/>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/21/%E7%AE%97%E6%B3%95/%E9%93%BE%E8%A1%A8/">链表</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/algorithm/">algorithm</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/03/21/%E7%AE%97%E6%B3%95/%E9%93%BE%E8%A1%A8/" data-id="ckmk7003o000r4kvxhfat8718" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%93%BE%E8%A1%A8/" rel="tag">链表</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-面经/java/集合" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/21/%E9%9D%A2%E7%BB%8F/java/%E9%9B%86%E5%90%88/" class="article-date">
  <time class="post-time" datetime="2021-03-21T08:53:05.613Z" itemprop="datePublished">
    <span class="post-month">3月</span><br/>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/21/%E9%9D%A2%E7%BB%8F/java/%E9%9B%86%E5%90%88/">如何决定使用HashMap还是TreeMap</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-如何决定使用hashmap还是treemap"><a class="markdownIt-Anchor" href="#1-如何决定使用hashmap还是treemap"></a> 1、如何决定使用HashMap还是TreeMap</h3>
<p>TreeMap的key要求实现java.lang.Comparable，迭代是默认按key升序排序。TreeMap基于红黑树，适用于自然顺序或自定义顺序的key。（就是红黑树，没有数组）</p>
<p>HashMap的key值实现散列hashCode()，分布散列均匀，不支持排序。</p>
<p>当需要得到有序的结果，就使用TreeMap，除此之外，因为HashMap有更好的性能，使用HashMap</p>
<ol>
<li>
<p>HashMap和TreeMap实现：</p>
<p>HashMap基于哈希表实现。使用HashMap要求key明确定义了hashCode和equals方法（可以重写），还可以对初始容量和负载因子调优</p>
<p>TreeMap基于红黑树实现，一直处于平衡状态，不能调优</p>
</li>
<li>
<p>HashMap和TreeMap都是线程不安全</p>
<p>HashMap继承了AbstractMap抽象类，TreeMap继承了SortedMap接口</p>
<p><strong>AbstractMap抽象类</strong>：覆盖了hashCode和equals方法，确保两个相等映射返回同样的hashCode。（映射大小相等，key相等并且值相等，就认为映射相等）映射的hashCode是映射的全部元素的hashCode总和。</p>
<p><strong>SortedMap接口</strong>：原来保证键的有序性。SortedMap为映像的视图（子集），包括两个端点提供了访问方法。除了排序是作用于映射的键外，处理SortedMap和SortedSet一样。添加到SortedMap的元素必须实现Comparable接口，否则必须给他的构造函数提供一个Comparator接口的实现。TreeMap是唯一实现</p>
</li>
<li>
<p>TreeMap默认是升序，如何降序</p>
<p>通过自定义比较器，实现Comparator接口，重写compare方法，传入TreeMap构造器</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/03/21/%E9%9D%A2%E7%BB%8F/java/%E9%9B%86%E5%90%88/" data-id="ckmk7004i003n4kvxhkcn4roc" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HashMap/" rel="tag">HashMap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TreeMap/" rel="tag">TreeMap</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-计算机网络/6.应用层" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/6.%E5%BA%94%E7%94%A8%E5%B1%82/" class="article-date">
  <time class="post-time" datetime="2021-03-21T08:53:05.585Z" itemprop="datePublished">
    <span class="post-month">3月</span><br/>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/6.%E5%BA%94%E7%94%A8%E5%B1%82/">应用层</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="应用层"><a class="markdownIt-Anchor" href="#应用层"></a> 应用层</h3>
<h4 id="应用层概述"><a class="markdownIt-Anchor" href="#应用层概述"></a> 应用层概述</h4>
<p><img src="/images/image-20210307160050150.png" alt="image-20210307160050150" /></p>
<p><img src="/images/image-20210307160203854.png" alt="image-20210307160203854" /></p>
<p><img src="/images/image-20210307160226061.png" alt="image-20210307160226061" /></p>
<h4 id="动态主机配置dhcp"><a class="markdownIt-Anchor" href="#动态主机配置dhcp"></a> 动态主机配置DHCP</h4>
<p><img src="/images/image-20210307161013853.png" alt="image-20210307161013853" /></p>
<p><img src="/images/image-20210307161037097.png" alt="image-20210307161037097" /></p>
<h4 id="动态域名系统nds"><a class="markdownIt-Anchor" href="#动态域名系统nds"></a> 动态域名系统NDS</h4>
<p><img src="/images/image-20210307161156042.png" alt="image-20210307161156042" /></p>
<p><img src="/images/image-20210307161240542.png" alt="image-20210307161240542" /></p>
<p><img src="/images/image-20210307161403725.png" alt="image-20210307161403725" /></p>
<p><img src="/images/image-20210307161436406.png" alt="image-20210307161436406" /></p>
<p><img src="/images/image-20210307161514348.png" alt="image-20210307161514348" /></p>
<h4 id="文件传输协议ftp"><a class="markdownIt-Anchor" href="#文件传输协议ftp"></a> 文件传输协议FTP</h4>
<p><img src="/images/image-20210307161547640.png" alt="image-20210307161547640" /></p>
<p><img src="/images/image-20210307161819335.png" alt="image-20210307161819335" /></p>
<p><img src="/images/image-20210307161837795.png" alt="image-20210307161837795" /></p>
<h4 id="电子邮件"><a class="markdownIt-Anchor" href="#电子邮件"></a> 电子邮件</h4>
<p><img src="/images/image-20210307161915114.png" alt="image-20210307161915114" /></p>
<p><img src="/images/image-20210307161938348.png" alt="image-20210307161938348" /></p>
<p><img src="/images/image-20210307161953057.png" alt="image-20210307161953057" /></p>
<p><img src="/images/image-20210307162054826.png" alt="image-20210307162054826" /></p>
<p><img src="/images/image-20210307162105891.png" alt="image-20210307162105891" /></p>
<p><img src="/images/image-20210307162125205.png" alt="image-20210307162125205" /></p>
<p><img src="/images/image-20210307162151244.png" alt="image-20210307162151244" /></p>
<p><img src="/images/image-20210307162225334.png" alt="image-20210307162225334" /></p>
<h4 id="万维网www"><a class="markdownIt-Anchor" href="#万维网www"></a> 万维网WWW</h4>
<p><img src="/images/image-20210307162306886.png" alt="image-20210307162306886" /></p>
<p><img src="/images/image-20210307162320178.png" alt="image-20210307162320178" /></p>
<p><img src="/images/image-20210307162335404.png" alt="image-20210307162335404" /></p>
<p><img src="/images/image-20210307162417129.png" alt="image-20210307162417129" /></p>
<p><img src="/images/image-20210307162435448.png" alt="image-20210307162435448" /></p>
<p><img src="/images/image-20210307162446992.png" alt="image-20210307162446992" /></p>
<p><img src="/images/image-20210307162533578.png" alt="image-20210307162533578" /></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/6.%E5%BA%94%E7%94%A8%E5%B1%82/" data-id="ckmk7003v001f4kvxbszhbn0p" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">计算机网络</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-计算机网络/5.传输层" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/5.%E4%BC%A0%E8%BE%93%E5%B1%82/" class="article-date">
  <time class="post-time" datetime="2021-03-21T08:53:05.575Z" itemprop="datePublished">
    <span class="post-month">3月</span><br/>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/5.%E4%BC%A0%E8%BE%93%E5%B1%82/">运输层</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="运输层"><a class="markdownIt-Anchor" href="#运输层"></a> 运输层</h3>
<h4 id="运输层概述"><a class="markdownIt-Anchor" href="#运输层概述"></a> 运输层概述</h4>
<p><img src="/images/image-20210307150528010.png" alt="image-20210307150528010" /></p>
<p><img src="/images/image-20210307150603680.png" alt="image-20210307150603680" /></p>
<p><img src="/images/image-20210307150703034.png" alt="image-20210307150703034" /></p>
<p><img src="/images/image-20210307150745571.png" alt="image-20210307150745571" /></p>
<p><img src="/images/image-20210307150826265.png" alt="image-20210307150826265" /></p>
<p><img src="/images/image-20210307151335900.png" alt="image-20210307151335900" /></p>
<p><img src="/images/image-20210307151056806.png" alt="image-20210307151056806" /></p>
<p><img src="/images/image-20210307151136763.png" alt="image-20210307151136763" /></p>
<p><img src="/images/image-20210307151215375.png" alt="image-20210307151215375" /></p>
<p><img src="/images/image-20210307151258779.png" alt="image-20210307151258779" /></p>
<p><img src="/images/image-20210307151317182.png" alt="image-20210307151317182" /></p>
<h4 id="tcp"><a class="markdownIt-Anchor" href="#tcp"></a> TCP</h4>
<h5 id="tcp流量控制"><a class="markdownIt-Anchor" href="#tcp流量控制"></a> TCP流量控制</h5>
<p><img src="/images/image-20210307151546430.png" alt="image-20210307151546430" /></p>
<h5 id="tcp拥塞控制"><a class="markdownIt-Anchor" href="#tcp拥塞控制"></a> TCP拥塞控制</h5>
<p><img src="/images/image-20210307151641574.png" alt="image-20210307151641574" /></p>
<p>四种控制算法：</p>
<p><img src="/images/image-20210307151710250.png" alt="image-20210307151710250" /></p>
<p><img src="/images/image-20210307151839718.png" alt="image-20210307151839718" /></p>
<p><img src="/images/image-20210307151913672.png" alt="image-20210307151913672" /></p>
<p><img src="/images/image-20210307152000298.png" alt="image-20210307152000298" /></p>
<p>快恢复算法：</p>
<p><img src="/images/image-20210307152027924.png" alt="image-20210307152027924" /></p>
<h5 id="tcp超时重传选择"><a class="markdownIt-Anchor" href="#tcp超时重传选择"></a> TCP超时重传选择</h5>
<p><img src="/images/image-20210307152409832.png" alt="image-20210307152409832" /></p>
<h5 id="tcp可靠传输的实现"><a class="markdownIt-Anchor" href="#tcp可靠传输的实现"></a> TCP可靠传输的实现</h5>
<p><img src="/images/image-20210307152831255.png" alt="image-20210307152831255" /></p>
<h5 id="tcp连接"><a class="markdownIt-Anchor" href="#tcp连接"></a> TCP连接</h5>
<p><img src="/images/image-20210307152930649.png" alt="image-20210307152930649" /></p>
<p><img src="/images/image-20210307152940084.png" alt="image-20210307152940084" /></p>
<p><img src="/images/image-20210307153328035.png" alt="image-20210307153328035" /></p>
<p>SYN：同步标志位，1表示是TCP请求报文段，不能带数据，消耗一个序号</p>
<p>ACK：确认位</p>
<p>seq：序号为，x和y分别是客户端和服务器自己选择的开始序号</p>
<p>ack：确认号字段，对哪个序号的确认</p>
<p>第三次握手是普通的确认，所以可以携带数据 不携带数据不消化seq</p>
<p><img src="/images/image-20210307154533461.png" alt="image-20210307154533461" /></p>
<p><img src="/images/image-20210307154615194.png" alt="image-20210307154615194" /></p>
<p><img src="/images/image-20210307154712082.png" alt="image-20210307154712082" /></p>
<h5 id="tcp报文首部"><a class="markdownIt-Anchor" href="#tcp报文首部"></a> TCP报文首部</h5>
<p><img src="/images/image-20210307154803011.png" alt="image-20210307154803011" /></p>
<p>序号：32比特，0-2^32 -1，最大后从0开始，指示本TCP报文段数据载荷的第一个自己的序号</p>
<p>确认号：32比特，0-2^32 -1，最大后从0开始，指出期望收到下一个TCP报文段的序号，也是对之前数据的确认</p>
<p>确认标志位ACK：ACK为1时，确认号才有效，0时无效</p>
<p>数据偏移：TCP报文段数据载荷部分距TCP报文段起始的距离，就是TCP报文首部的长度，最小20字节，最大60字节，要用值*4</p>
<p>保留字段：以后使用，目前置0</p>
<p>窗口：16比特，发送本报文段的一方的接收窗口的大小</p>
<p>校验和：16比特，检测误码，要在TCP报文首部加12字节委首部</p>
<p>同步标志位SYN：TCP建立时同步序号</p>
<p>中止表示为FIN：释放TCP连接</p>
<p>复位标志位RST：复位TCP连接，RST=1表示出现异常，需要释放连接再重新建立连接，RST=1还可以拒绝非法报文或拒绝TCP连接</p>
<p>推送标志位PSH：接受方接收到PSH=1，会尽快交付应用进程，不必等到接收缓存满再交付</p>
<p>紧急标志位URG和紧急指针实现紧急操作：URG=1，紧急字段有效，紧急字段指明紧急数据的长度</p>
<p><img src="/images/image-20210307155805787.png" alt="image-20210307155805787" /></p>
<p>选项部分：增加TCP功能</p>
<p><img src="/images/image-20210307155849596.png" alt="image-20210307155849596" /></p>
<p>填充：保证TCP是4的整数倍</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/5.%E4%BC%A0%E8%BE%93%E5%B1%82/" data-id="ckmk7003u001b4kvxdr9gfa7u" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">计算机网络</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-计算机网络/4.网络层" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/4.%E7%BD%91%E7%BB%9C%E5%B1%82/" class="article-date">
  <time class="post-time" datetime="2021-03-21T08:53:05.549Z" itemprop="datePublished">
    <span class="post-month">3月</span><br/>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/4.%E7%BD%91%E7%BB%9C%E5%B1%82/">网络层</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="网络层"><a class="markdownIt-Anchor" href="#网络层"></a> 网络层</h3>
<h4 id="网络层概述"><a class="markdownIt-Anchor" href="#网络层概述"></a> 网络层概述</h4>
<p>实现网络互联，进而实现数据包在网络之间传输</p>
<p>解决的问题：</p>
<ol>
<li>
<p>网络层向上层提供的服务（TPC/IP是无连接的不可靠的数据报服务）</p>
</li>
<li>
<p>网络层寻址</p>
</li>
<li>
<p>路由寻址</p>
</li>
</ol>
<p>因特网是用户最多的互联网，使用TCP/IP协议，网际层还包括ARP、ICMP、IGMP等</p>
<h4 id="网络层的两种服务"><a class="markdownIt-Anchor" href="#网络层的两种服务"></a> 网络层的两种服务</h4>
<p>面向连接的虚电路服务：</p>
<p><img src="/images/image-20210307133302112.png" alt="image-20210307133302112" /></p>
<p>无连接的数据报服务：</p>
<p><img src="/images/image-20210307133339352.png" alt="image-20210307133339352" /></p>
<p><img src="/images/image-20210307133405517.png" alt="image-20210307133405517" /></p>
<h4 id="ipv4"><a class="markdownIt-Anchor" href="#ipv4"></a> IPv4</h4>
<p>IPv4是给因特网上的每个主机/路由器的每个接口分配一个唯一的32比特标识符</p>
<p><img src="/images/image-20210307133527173.png" alt="image-20210307133527173" /></p>
<h5 id="分类编制的ipv4地址"><a class="markdownIt-Anchor" href="#分类编制的ipv4地址"></a> 分类编制的IPv4地址</h5>
<p><img src="/images/image-20210307133658139.png" alt="image-20210307133658139" /></p>
<p>A类网络：</p>
<p><img src="/images/image-20210307133822957.png" alt="image-20210307133822957" /></p>
<p>B类网络：</p>
<p><img src="/images/image-20210307133919174.png" alt="image-20210307133919174" /></p>
<p>C类网络：</p>
<p><img src="/images/image-20210307134011780.png" alt="image-20210307134011780" /></p>
<h5 id="划分子网的ipv4"><a class="markdownIt-Anchor" href="#划分子网的ipv4"></a> 划分子网的IPv4</h5>
<p><img src="/images/image-20210307134245242.png" alt="image-20210307134245242" /></p>
<p><img src="/images/image-20210307134421038.png" alt="image-20210307134421038" /></p>
<h5 id="无分类编制的ipv4"><a class="markdownIt-Anchor" href="#无分类编制的ipv4"></a> 无分类编制的IPv4</h5>
<p><img src="/images/image-20210307134543146.png" alt="image-20210307134543146" /></p>
<p>路由聚合：</p>
<p><img src="/images/image-20210307134849423.png" alt="image-20210307134849423" /></p>
<h5 id="ipv4地址的应用规划"><a class="markdownIt-Anchor" href="#ipv4地址的应用规划"></a> IPv4地址的应用规划</h5>
<p><img src="/images/image-20210307135627577.png" alt="image-20210307135627577" /></p>
<h5 id="ipv4发送和转发"><a class="markdownIt-Anchor" href="#ipv4发送和转发"></a> IPv4发送和转发</h5>
<ol>
<li>
<p>主机发送IP数据报</p>
<p>1）源主机如何知道目的主机是否与自己同一个网络：比较目的主机/源主机与子网掩码相与的结果</p>
<p>2）主机如何知道路由器的存在：默认网关</p>
</li>
<li>
<p>路由器转发IP数据报</p>
<p>1）检查IP数据报首部是否出错，出错就丢弃该IP数据报并发送ICMP差错报告报文通告源主机</p>
<p>2）根据目的地址IP在路由表查找匹配的端口条目，找到就转发，找不到丢弃IP数据报并通过源主机</p>
<p>3）路由器隔离广播域</p>
</li>
</ol>
<h5 id="ipv4数据报首部格式"><a class="markdownIt-Anchor" href="#ipv4数据报首部格式"></a> IPv4数据报首部格式</h5>
<p><img src="/images/image-20210307143242835.png" alt="image-20210307143242835" /></p>
<p>版本：表示IP协议版本号，通信双方必须一致，广泛使用的版本号是4（IPv4)</p>
<p>首部长度：数据报首部长度，最小是十进制的5，表示首部只有20字节固定部分，最大取十进制15，表示包含20字节固定部分和40字节可变部分</p>
<p>可选字段：从1-40不等，支持排错，测量及安全措施，增加了功能也增加了开销，很少使用</p>
<p>填充字段，保证数据报是4字节的整数倍</p>
<p>区分服务：用来获得更换的服务，一般不使用</p>
<p>总长度：表示ip数据报的总长度，首部+数据载荷，最大值是10进制的65535</p>
<p>生存时间：最初以秒为单位，最大生存周期255秒，转发数据报时，减去在路由器上花费的时间，不为0就转发，现在为跳数，每个路由器减1，不为0就转发</p>
<p>协议：指明IPv4的数据部分是何种数据协议单元</p>
<p><img src="/images/image-20210307144427393.png" alt="image-20210307144427393" /></p>
<p>首部检验和：用来检测首部在传输过程种是否出错，比CRC简单，成为因特网检验和，因为IP不提供可靠服务，IPv6不再检验</p>
<p>源IP地址和目的IP地址</p>
<p>标识、标志、片偏移：当数据报大于数据链路层协议的帧的数据载荷的最大长度MTU（以太网1500字节），就需要分片</p>
<p><img src="/images/image-20210307144000626.png" alt="image-20210307144000626" /></p>
<p><img src="/images/image-20210307143846304.png" alt="image-20210307143846304" /></p>
<p><img src="/images/image-20210307144206846.png" alt="image-20210307144206846" /></p>
<p>片偏移必须为整数</p>
<h4 id="路由"><a class="markdownIt-Anchor" href="#路由"></a> 路由</h4>
<h5 id="静态路由配置及可能的问题"><a class="markdownIt-Anchor" href="#静态路由配置及可能的问题"></a> 静态路由配置及可能的问题</h5>
<ol>
<li>配置错误可能出现路由环路</li>
</ol>
<p><img src="/images/image-20210307140819790.png" alt="image-20210307140819790" /></p>
<ol start="2">
<li>聚合了不存在的网络可能导致路由环路</li>
</ol>
<h5 id="路由选择协议"><a class="markdownIt-Anchor" href="#路由选择协议"></a> 路由选择协议</h5>
<p><img src="/images/image-20210307141053970.png" alt="image-20210307141053970" /></p>
<p><img src="/images/image-20210307141104242.png" alt="image-20210307141104242" /></p>
<p><img src="/images/image-20210307141126055.png" alt="image-20210307141126055" /></p>
<p><img src="/images/image-20210307141158373.png" alt="image-20210307141158373" /></p>
<p><img src="/images/image-20210307143029067.png" alt="image-20210307143029067" /></p>
<p><img src="/images/image-20210307141314375.png" alt="image-20210307141314375" /></p>
<h5 id="路由信息协议rip"><a class="markdownIt-Anchor" href="#路由信息协议rip"></a> 路由信息协议RIP</h5>
<p><img src="/images/image-20210307141419109.png" alt="image-20210307141419109" /></p>
<p><img src="/images/image-20210307141524495.png" alt="image-20210307141524495" /></p>
<p>基本工作过程</p>
<p><img src="/images/image-20210307141546317.png" alt="image-20210307141546317" /></p>
<p><img src="/images/image-20210307141727392.png" alt="image-20210307141727392" /></p>
<p><img src="/images/image-20210307141845381.png" alt="image-20210307141845381" /></p>
<h5 id="开放最短路径优先协议ospf"><a class="markdownIt-Anchor" href="#开放最短路径优先协议ospf"></a> 开放最短路径优先协议OSPF</h5>
<p><img src="/images/image-20210307141938309.png" alt="image-20210307141938309" /></p>
<p><img src="/images/image-20210307142035173.png" alt="image-20210307142035173" /></p>
<p><img src="/images/image-20210307142130750.png" alt="image-20210307142130750" /></p>
<p><img src="/images/image-20210307142201656.png" alt="image-20210307142201656" /></p>
<p><img src="/images/image-20210307142221261.png" alt="image-20210307142221261" /></p>
<p><img src="/images/image-20210307142300955.png" alt="image-20210307142300955" /></p>
<p><img src="/images/image-20210307142340434.png" alt="image-20210307142340434" /></p>
<p><img src="/images/image-20210307142507238.png" alt="image-20210307142507238" /></p>
<h5 id="边界网关协议bgp"><a class="markdownIt-Anchor" href="#边界网关协议bgp"></a> 边界网关协议BGP</h5>
<p><img src="/images/image-20210307142605776.png" alt="image-20210307142605776" /></p>
<p><img src="/images/image-20210307142713356.png" alt="image-20210307142713356" /></p>
<p><img src="/images/image-20210307142749670.png" alt="image-20210307142749670" /></p>
<p><img src="/images/image-20210307142811611.png" alt="image-20210307142811611" /></p>
<p><img src="/images/image-20210307142906020.png" alt="image-20210307142906020" /></p>
<h4 id="网际控制报文协议icmp"><a class="markdownIt-Anchor" href="#网际控制报文协议icmp"></a> 网际控制报文协议ICMP</h4>
<p><img src="/images/image-20210307145309092.png" alt="image-20210307145309092" /></p>
<p><img src="/images/image-20210307145329640.png" alt="image-20210307145329640" /></p>
<p><img src="/images/image-20210307145353768.png" alt="image-20210307145353768" /></p>
<p>ICMP应用举例</p>
<p><img src="/images/image-20210307145427843.png" alt="image-20210307145427843" /></p>
<p><img src="/images/image-20210307145448884.png" alt="image-20210307145448884" /></p>
<h4 id="虚拟专用网络vpn"><a class="markdownIt-Anchor" href="#虚拟专用网络vpn"></a> 虚拟专用网络VPN</h4>
<p><img src="/images/image-20210307145630670.png" alt="image-20210307145630670" /></p>
<p><img src="/images/image-20210307145715815.png" alt="image-20210307145715815" /></p>
<p>因特网路由器对所有目的地址是私有地址的IP数据报不转发</p>
<p><img src="/images/image-20210307145834722.png" alt="image-20210307145834722" /></p>
<p><img src="/images/image-20210307145857575.png" alt="image-20210307145857575" /></p>
<h4 id="物理地址转换nat"><a class="markdownIt-Anchor" href="#物理地址转换nat"></a> 物理地址转换NAT</h4>
<p><img src="/images/image-20210307145923249.png" alt="image-20210307145923249" /></p>
<p><img src="/images/image-20210307150130184.png" alt="image-20210307150130184" /></p>
<p><img src="/images/image-20210307150144638.png" alt="image-20210307150144638" /></p>
<p><img src="/images/image-20210307150152773.png" alt="image-20210307150152773" /></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/4.%E7%BD%91%E7%BB%9C%E5%B1%82/" data-id="ckmk7003t00184kvx3oktf4bc" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">计算机网络</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-计算机网络/3.数据链路层" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/3.%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/" class="article-date">
  <time class="post-time" datetime="2021-03-21T08:53:05.539Z" itemprop="datePublished">
    <span class="post-month">3月</span><br/>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/3.%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/">数据链路层</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="数据链路层"><a class="markdownIt-Anchor" href="#数据链路层"></a> 数据链路层</h3>
<h4 id="概述"><a class="markdownIt-Anchor" href="#概述"></a> 概述</h4>
<p>链路：从一个节点到相邻节点的一段物理线路，中间没有其他交换节点</p>
<p>数据链路：把实现通信协议的硬件和软件加到链路上就构成了数据链路</p>
<h4 id="封装成帧"><a class="markdownIt-Anchor" href="#封装成帧"></a> 封装成帧</h4>
<p>将数据链路层上层交付的协议数据单元添加帧头和帧尾使之成为帧</p>
<p><img src="/images/image-20210305151925734.png" alt="image-20210305151925734" /></p>
<p>帧头和帧尾的作用之一就是帧定界，用于区分一个个帧的范围，例如ppp的开头和结尾标志，MAC帧没有，</p>
<p>物理层会给MAC增加8个字节前导码，前七个字节是前同步码，还有一个是帧开始定界符，MAC还有96比特的帧间间隔 不需要结束标志</p>
<p>链路层会对数据定义帧定界符进行转义</p>
<p>每个数据链路层协议都规定了帧数据单元的长度上限，最大传输单元（MTU）</p>
<h4 id="差错检测"><a class="markdownIt-Anchor" href="#差错检测"></a> 差错检测</h4>
<p>传输错误比特占传输比特总数的比率称为误码率BER</p>
<p>MAC帧和ppp的帧检验序列FCS用于检测是否误码</p>
<p>校验方式：奇偶校验、循环冗余校验CRC</p>
<h4 id="可靠传输"><a class="markdownIt-Anchor" href="#可靠传输"></a> 可靠传输</h4>
<p>不可靠传输服务：仅仅丢弃误码的帧，什么也不做</p>
<p>可靠传输服务：发送端发什么，接收端收什么</p>
<p>有线链路误码率较低，所以不要求数据链路层向上提供可靠传输服务</p>
<p>无线链路误码率较高，要求数据链路层必须向上提高可靠传输服务</p>
<p>传出差错：比特差错、分组丢失、分组失序、分组重复（分组意味着差错不局限于数据链路层）</p>
<p><img src="/images/image-20210305153457051.png" alt="image-20210305153457051" /></p>
<h5 id="停止等待协议sw"><a class="markdownIt-Anchor" href="#停止等待协议sw"></a> 停止等待协议SW</h5>
<p><img src="/images/image-20210305153939667.png" alt="image-20210305153939667" /></p>
<p>当往返时延RTT远大于帧发送时延时，信道利用率极低</p>
<h5 id="回退n帧协议gbngo-back-n"><a class="markdownIt-Anchor" href="#回退n帧协议gbngo-back-n"></a> 回退N帧协议GBN（Go-back-N）</h5>
<p><img src="/images/image-20210305154114567.png" alt="image-20210305154114567" /></p>
<h5 id="选择重传协议sr"><a class="markdownIt-Anchor" href="#选择重传协议sr"></a> 选择重传协议SR</h5>
<p><img src="/images/image-20210305154318157.png" alt="image-20210305154318157" /></p>
<h4 id="点对点协议ppppoint-to-point-protocol"><a class="markdownIt-Anchor" href="#点对点协议ppppoint-to-point-protocol"></a> 点对点协议PPP（Point-to-Point Protocol）</h4>
<p>ppp协议为点对点的数据链路层各协议数据包提供了一个标准</p>
<ol>
<li>对各协议数据报的封装方法（封装成帧）</li>
<li>链路控制协议LCP（用于建立、配置以及测试数据链路的连接）</li>
<li>一套网络控制协议NCPs（其中每一个协议支持不同的网络层协议）</li>
</ol>
<p><img src="/images/image-20210305154725880.png" alt="image-20210305154725880" /></p>
<p>帧格式：</p>
<p><img src="/images/image-20210305154758893.png" alt="image-20210305154758893" /></p>
<p>透明传输：</p>
<p><img src="/images/image-20210305154841260.png" alt="image-20210305154841260" /></p>
<p>差错检测：使用CRC检验</p>
<p>提供不可靠服务</p>
<p><img src="/images/image-20210305154932465.png" alt="image-20210305154932465" /></p>
<p>工作状态：</p>
<p><img src="/images/image-20210305155039449.png" alt="image-20210305155039449" /></p>
<h4 id="媒体介入控制mac"><a class="markdownIt-Anchor" href="#媒体介入控制mac"></a> 媒体介入控制MAC</h4>
<p><img src="/images/image-20210305155230269.png" alt="image-20210305155230269" /></p>
<p><img src="/images/image-20210305155247052.png" alt="image-20210305155247052" /></p>
<p>静态划分信道：频分复用FDM、时分复用TDM、波分复用WDM、码分复用CDM</p>
<h5 id="随机接入"><a class="markdownIt-Anchor" href="#随机接入"></a> 随机接入</h5>
<p>CSMA—CD（载波监听多址接入-碰撞检测   Carrier Sense Multiple Access-Collision Detection）</p>
<p>CS：每个站点发送帧前要先监听总线是否有其他站点发送帧，总线空闲96比特才能发送</p>
<p>MA：多个站点连接再一条总线</p>
<p>CD：站点边发送边检测碰撞，碰撞后立即停止发送，退避随机事件后发送</p>
<p><img src="/images/image-20210305160038108.png" alt="image-20210305160038108" /></p>
<p>争用期：<img src="/images/image-20210305160151099.png" alt="image-20210305160151099" /></p>
<p>最小帧长：<img src="/images/image-20210305160236069.png" alt="image-20210305160236069" /></p>
<p>最大帧长：</p>
<p><img src="/images/image-20210305160343783.png" alt="image-20210305160343783" /></p>
<p>截断二进制指数退避算法：</p>
<p><img src="/images/image-20210305160427761.png" alt="image-20210305160427761" /></p>
<p>帧发送流程</p>
<p><img src="/images/image-20210305160512449.png" alt="image-20210305160512449" /></p>
<p>帧接收流程</p>
<p><img src="/images/image-20210305160538902.png" alt="image-20210305160538902" /></p>
<p>CSMA-CA</p>
<p><img src="/images/image-20210305160837356.png" alt="image-20210305160837356" /></p>
<p><img src="/images/image-20210305160942724.png" alt="image-20210305160942724" /></p>
<p><img src="/images/image-20210305161012872.png" alt="image-20210305161012872" /></p>
<p><img src="/images/image-20210305161140096.png" alt="image-20210305161140096" /></p>
<p>退避算法：</p>
<p><img src="/images/image-20210305161227434.png" alt="image-20210305161227434" /></p>
<p><img src="/images/image-20210305161302601.png" alt="image-20210305161302601" /></p>
<p><img src="/images/image-20210305161404087.png" alt="image-20210305161404087" /></p>
<h4 id="maciparp"><a class="markdownIt-Anchor" href="#maciparp"></a> MAC/IP/ARP</h4>
<p><img src="/images/image-20210305161451664.png" alt="image-20210305161451664" /></p>
<h5 id="mac"><a class="markdownIt-Anchor" href="#mac"></a> MAC</h5>
<p><img src="/images/image-20210305161604424.png" alt="image-20210305161604424" /></p>
<p><img src="/images/image-20210305161750068.png" alt="image-20210305161750068" /></p>
<p><img src="/images/image-20210305161933910.png" alt="image-20210305161933910" /></p>
<h5 id="ip"><a class="markdownIt-Anchor" href="#ip"></a> IP</h5>
<p><img src="/images/image-20210305162050074.png" alt="image-20210305162050074" /></p>
<p><img src="/images/image-20210305162148528.png" alt="image-20210305162148528" /></p>
<h5 id="arp地址解析协议"><a class="markdownIt-Anchor" href="#arp地址解析协议"></a> ARP（地址解析协议）</h5>
<p><img src="/images/image-20210305162406139.png" alt="image-20210305162406139" /></p>
<h4 id="集线器和交换机"><a class="markdownIt-Anchor" href="#集线器和交换机"></a> 集线器和交换机</h4>
<p>集线器：</p>
<p><img src="/images/image-20210305162511460.png" alt="image-20210305162511460" /></p>
<p>交换机：</p>
<p><img src="/images/image-20210305162705150.png" alt="image-20210305162705150" /></p>
<p><img src="/images/image-20210305162830630.png" alt="image-20210305162830630" /></p>
<p>交换机自学习和转发帧：</p>
<p><img src="/images/image-20210305163052514.png" alt="image-20210305163052514" /></p>
<p><img src="/images/image-20210305163108756.png" alt="image-20210305163108756" /></p>
<p>以太网交换机生成树协议STP</p>
<p><img src="/images/image-20210305163213345.png" alt="image-20210305163213345" /></p>
<p><img src="/images/image-20210305163234884.png" alt="image-20210305163234884" /></p>
<h4 id="虚拟局域网vlan"><a class="markdownIt-Anchor" href="#虚拟局域网vlan"></a> 虚拟局域网VLAN</h4>
<p><img src="/images/image-20210305163309932.png" alt="image-20210305163309932" /></p>
<p><img src="/images/image-20210305163327093.png" alt="image-20210305163327093" /></p>
<p><img src="/images/image-20210305163339885.png" alt="image-20210305163339885" /></p>
<p><img src="/images/image-20210305163406495.png" alt="image-20210305163406495" /></p>
<p><img src="/images/image-20210305163446017.png" alt="image-20210305163446017" /></p>
<p><img src="/images/image-20210305163459916.png" alt="image-20210305163459916" /></p>
<p><img src="/images/image-20210305163512718.png" alt="image-20210305163512718" /></p>
<p><img src="/images/image-20210305163710896.png" alt="image-20210305163710896" /></p>
<p><img src="/images/image-20210305163721422.png" alt="image-20210305163721422" /></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/3.%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/" data-id="ckmk7003s00144kvx9bp54zki" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">计算机网络</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-计算机网络/2.物理层" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/2.%E7%89%A9%E7%90%86%E5%B1%82/" class="article-date">
  <time class="post-time" datetime="2021-03-21T08:53:05.521Z" itemprop="datePublished">
    <span class="post-month">3月</span><br/>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/2.%E7%89%A9%E7%90%86%E5%B1%82/">物理层</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id=""><a class="markdownIt-Anchor" href="#"></a> </h3>
<h3 id="物理层"><a class="markdownIt-Anchor" href="#物理层"></a> 物理层</h3>
<h4 id="传输媒体"><a class="markdownIt-Anchor" href="#传输媒体"></a> 传输媒体</h4>
<p>导引型传输媒体：双绞线、同轴电缆、光纤</p>
<p>非导引型传输媒体：微波通信(2-40GHZ)、无线电波、红外线、可见光</p>
<h4 id="协议任务"><a class="markdownIt-Anchor" href="#协议任务"></a> 协议任务</h4>
<p><img src="/images/image-20210305143849954.png" alt="image-20210305143849954" /></p>
<p>物理层考虑的是怎样才能再连接计算机的传输媒体上传输数据比特流</p>
<h4 id="传输方式"><a class="markdownIt-Anchor" href="#传输方式"></a> 传输方式</h4>
<p>串行传输：数据一个比特一个比特的发   远距离传输采用串行传输</p>
<p>并行传输：多个比特同时发送，需要n条传输线路、计算机内部总线等采用并行传输</p>
<p>同步传输：发送方和接收方的时钟频率同步保证不会出现误差累积</p>
<p>​	1.外同步：收发双发加一条单独的时钟信号先</p>
<p>​	2.内同步：发送方将时钟同步信号编码到发送的数据中，如曼彻斯特编码</p>
<p>异步传输：以字节为单位独立传输，接受发从每个字节起始处对字节内比特实现同步，所以每个字节前后要加上起始位和结束位，异步是指字节之间异步</p>
<p><img src="/images/image-20210305144617911.png" alt="image-20210305144617911" /></p>
<p>单向通信：</p>
<p>双向交替通信：</p>
<p>双向同步通信：</p>
<h4 id="编码与调制"><a class="markdownIt-Anchor" href="#编码与调制"></a> 编码与调制</h4>
<p>编码：把数字/模拟信号变为数字信号</p>
<p>调制：把数字/模拟信号变为模拟信号</p>
<p>码元：代表不同离散数值的基本波形</p>
<p>信道：一般是传输媒体中的传递通道</p>
<p>计算机一般采用将数字基带信号编码调制再发送</p>
<p><img src="/images/image-20210305144944031.png" alt="image-20210305144944031" /></p>
<p>常见编码：</p>
<p><img src="/images/image-20210305145223370.png" alt="image-20210305145223370" /></p>
<p>基本调制：</p>
<p><img src="/images/image-20210305145258592.png" alt="image-20210305145258592" /></p>
<p>混合调制：使一个码元包含多个比特信息</p>
<h4 id="信道极限容量"><a class="markdownIt-Anchor" href="#信道极限容量"></a> 信道极限容量</h4>
<p>传输失真：<img src="/images/image-20210305145421893.png" alt="image-20210305145421893" /></p>
<p>乃式准则：为了避免码间干扰，传输速度是有上限的</p>
<p><img src="/images/image-20210305145602936.png" alt="image-20210305145602936" /></p>
<p>香农公式：带宽受限且有高斯白噪声干扰的信道的极限信息速传输速率</p>
<p><img src="/images/image-20210305145656909.png" alt="image-20210305145656909" /></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/2.%E7%89%A9%E7%90%86%E5%B1%82/" data-id="ckmk7003r00124kvx3nqk9mn2" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">计算机网络</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-计算机网络/1.计算机网络综述" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%BB%BC%E8%BF%B0/" class="article-date">
  <time class="post-time" datetime="2021-03-21T08:53:05.492Z" itemprop="datePublished">
    <span class="post-month">3月</span><br/>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%BB%BC%E8%BF%B0/">计算机网络综述</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="计算机网络综述"><a class="markdownIt-Anchor" href="#计算机网络综述"></a> 计算机网络综述</h3>
<h4 id="三种交换方式"><a class="markdownIt-Anchor" href="#三种交换方式"></a> 三种交换方式</h4>
<ol>
<li>
<p>电路交换</p>
<p>1）建立连接（分配通信资源）</p>
<p>2）通话（占用通信资源）</p>
<p>2）释放连接（归还通信资源）</p>
</li>
<li>
<p>报文交换</p>
<p>将整个报文交给下一个节点交换机</p>
</li>
<li>
<p>分组交换</p>
<p>将报文变成一个个分组 加上分组头部</p>
</li>
</ol>
<h4 id="计算机网络分类"><a class="markdownIt-Anchor" href="#计算机网络分类"></a> 计算机网络分类</h4>
<p>交换技术：电路交换网络、报文交换网络、分组交换网络</p>
<p>使用者：专用网、公用网</p>
<p>传输介质：有线网络、无线网络</p>
<p>覆盖范围：广域网WAN、城域网MAN、局域网LAN、个域网PAN</p>
<p>拓扑结构：总线型网络、星型网络、环形网络、网状型网络</p>
<h4 id="计算机性能指标"><a class="markdownIt-Anchor" href="#计算机性能指标"></a> 计算机性能指标</h4>
<p>速率：计算机再数字信道传送比特的速率、比特率</p>
<p>带宽：再模拟信号中，表示信号的频率范围；再计算机网络中，表示网络的通信线路能传输数据的能力，单位时间内从网络某一点到另一点通过的”最高数据率“</p>
<p>吞吐量：单位时间内通过某个网络的数据量</p>
<p>时延：发生时延、传播时延、处理时延</p>
<p>时延带宽积：以比特为单位的链路长度，再一个链路内的比特量</p>
<p>往返时间：RTT（Round-Trip-Time）交互一次的时间</p>
<p>利用率：信道利用率表示信道的百分之几的时间被利用；网络利用率表示全网的信道利用率的加权平均</p>
<p>丢包率：一段时间内，传输丢失的分组与总分组量的比率，包括误码、网络拥塞</p>
<h4 id="计算机网络体系结构"><a class="markdownIt-Anchor" href="#计算机网络体系结构"></a> 计算机网络体系结构</h4>
<p><img src="/images/image-20210305143317816.png" alt="image-20210305143317816" /></p>
<p><img src="/images/image-20210305143338951.png" alt="image-20210305143338951" /></p>
<p><img src="/images/image-20210305143548968.png" alt="image-20210305143548968" /></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/03/21/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%BB%BC%E8%BF%B0/" data-id="ckmk7003q000x4kvx2fm02dcz" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">计算机网络</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-mysql/innodb/9.锁" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/21/mysql/innodb/9.%E9%94%81/" class="article-date">
  <time class="post-time" datetime="2021-03-21T08:53:05.466Z" itemprop="datePublished">
    <span class="post-month">3月</span><br/>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/21/mysql/innodb/9.%E9%94%81/">锁</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/innodb/">innodb</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="锁"><a class="markdownIt-Anchor" href="#锁"></a> 锁</h3>
<p>InnoDB通过next-ket+可重复读解决了幻读的问题</p>
<p>InnoDB锁很高效，DML不总是产生锁对象</p>
<p>锁对象通过位图实现，内存开销小，不存在锁升级问题</p>
<h4 id="92-锁和事务"><a class="markdownIt-Anchor" href="#92-锁和事务"></a> 9.2 锁和事务</h4>
<h5 id="921-隔离性"><a class="markdownIt-Anchor" href="#921-隔离性"></a> 9.2.1 隔离性</h5>
<p>隔离性是ACID的I，锁就是实现事务的隔离性和一致性</p>
<p>隔离性要求：事务各自运行时，运行不受到其他事务的影响，提交前也看不到其他事务的结果。</p>
<p>要求用一种简单的算法或开销小的算法实现加锁技术，不能比串行化还慢</p>
<p>锁是一个串行机制，保证同一时刻只能被一个事务访问</p>
<p>MyISAM是表锁，并发没问题，并发写效率较差，如果是底部插入，有并发写入操作</p>
<p>SQLserver开始是页锁，后来支持悲观乐观并发，但是会锁升级到表锁，</p>
<h5 id="922-事务隔离级别"><a class="markdownIt-Anchor" href="#922-事务隔离级别"></a> 9.2.2 事务隔离级别</h5>
<p>脏写：两个事务先后修改了同一值，先事务进行了回滚，后事务的值没了</p>
<p>脏读：读取到了未提交的数据</p>
<p>不可重复读：两次读取的数据不同（不保证产生新的行）</p>
<h5 id="923-幻读"><a class="markdownIt-Anchor" href="#923-幻读"></a> 9.2.3 幻读</h5>
<p>幻读指统一事务下，连续两次同样的sql导致结果不同，第二次sql可能返回之前不存在的行</p>
<p>谓词锁：锁定的不是单个记录，而是一个条件</p>
<p>key-range locking算法是谓词锁的改进，锁定的是范围</p>
<p>根据范围分为next-key locking和previous-key locking</p>
<p>（-∞,W]，(W,Y],(Y,Z],(Z,+∞)<br />
范围被锁定时，阻止其他事务向这个范围内插入记录</p>
<h4 id="93-锁的类型和算法"><a class="markdownIt-Anchor" href="#93-锁的类型和算法"></a> 9.3 锁的类型和算法</h4>
<p>共享锁（S lock），允许事务读一行数据</p>
<p>排他锁（X lock），允许事务删除或更新一行数据</p>
<p>InnoDB支持多粒度锁定，允许事务在行记录或表记录同时加锁，为了多粒度锁，InnoDB支持了意向锁</p>
<p>意向锁把锁定对象分为多个层次，意味着事务希望在更细粒度上加锁</p>
<p>将上锁对象当初一棵树，要对下层节点上锁，需要先对上层对象加锁，要加x-lock，先对上层加意向锁IX，若某一部分导致等待，都需要等待粗粒度锁完成</p>
<p>InnoDB意向锁即表级别的锁，目的是为了在一个事务中揭示下一行被将被请求的锁类型</p>
<p>意向共享锁（IS）事务想获得一张表某几行的共享锁</p>
<p>意向排他锁（IX）事务想获得一张表某几行的排他锁</p>
<p><strong>意向锁的兼容性是相对表锁来的</strong></p>
<p>InnoDB是行级锁，因此意向锁不会阻塞全表扫描外的请求。</p>
<p>InnoDB支持的三种行锁</p>
<ol>
<li>record lock：记录锁</li>
<li>gap lock：间隙锁，锁定一个范围，不包含记录本身</li>
<li>next-key lock，邻键锁，间隙锁+记录锁，锁定范围+本身</li>
</ol>
<h4 id="94-锁内部实现"><a class="markdownIt-Anchor" href="#94-锁内部实现"></a> 9.4 锁内部实现</h4>
<p>页中还存有位图信息，由于位图大小可变，没有显示定义大小</p>
<p>记录是否有锁，通过位图的bit位判断</p>
<p>InnoDB支持表锁：意向锁和自增锁</p>
<p>事务信息中包含每个页的锁信息，然后多个页的锁信息链接起来</p>
<p>这种查询方式看起来不高效，但是节省了大量开销，若对每一个锁进行管理，开销会非常巨大。</p>
<p>锁查询的两种方式：</p>
<ol>
<li>根据事务：事务会维护一个内存对象，包含事务锁信息链表和指向正在等待的锁信息</li>
<li>根据记录：根据记录所在的页进行哈希查询，通过位图进行判断</li>
</ol>
<h5 id="942-锁的并发控制"><a class="markdownIt-Anchor" href="#942-锁的并发控制"></a> 9.4.2 锁的并发控制</h5>
<h4 id="95-显示锁和隐式锁"><a class="markdownIt-Anchor" href="#95-显示锁和隐式锁"></a> 9.5 显示锁和隐式锁</h4>
<p>分为explicit显示锁和implicit隐式锁</p>
<p>显示锁分为间隙显示锁（仅锁住范围）和非间隙显示锁（锁记录和记录之前的范围），可以是读锁页可以是写锁</p>
<p>隐式锁总时写锁</p>
<p>显示锁直接加锁，隐式锁是指索引记录逻辑上有写锁，内存不包含这个锁信息，没有任何内存开销，可以位于聚簇索引，也可以位于辅助索引。</p>
<p>聚簇索引插入一条记录，未提交时，就包含一个隐式锁。</p>
<p>对辅助索引进行update，产生隐式锁。并不是每次都产生隐式锁，若加锁需要等待，产生显示锁，因为后面需要被唤醒</p>
<p>由于隐式锁存在，加锁前需要把隐式锁转化成显示锁，并加信息插入全局哈希表中</p>
<h5 id="952-聚簇索引隐式锁"><a class="markdownIt-Anchor" href="#952-聚簇索引隐式锁"></a> 9.5.2 聚簇索引隐式锁</h5>
<p>每个索引记录都有一个事务id隐藏列，判断事务id读取是否为活跃事务，活跃事务有隐式锁。</p>
<h5 id="953-辅助索引记录的隐式锁"><a class="markdownIt-Anchor" href="#953-辅助索引记录的隐式锁"></a> 9.5.3 辅助索引记录的隐式锁</h5>
<p>每个辅助索引页通过page header保存一个最大事务id，当索引中任何记录被更新，更新这个最大id</p>
<ol>
<li>根据辅助索引页的最大事务id判断</li>
<li>根据聚簇索引记录进行判断</li>
</ol>
<p>当最大事务id小于活跃事务id，不包含隐式锁，之前已经提交的事务修改了该记录。若等于：</p>
<ol>
<li>存在活跃事务修改了辅助索引记录，导致最大事务id更新</li>
<li>存在事务（可能活跃（未提交），也可能完成了提交），修改了页中其他辅助索引记录，导致最大事务id更新</li>
</ol>
<p><strong>隐式锁就是会自己判断是否阻塞</strong></p>
<h4 id="96-加锁操作"><a class="markdownIt-Anchor" href="#96-加锁操作"></a> 9.6 加锁操作</h4>
<h5 id="961-加锁流程"><a class="markdownIt-Anchor" href="#961-加锁流程"></a> 9.6.1 加锁流程</h5>
<p>产生的锁对象加入到表队列的locks链表中，遍历次链表可以得出表上所有锁信息</p>
<p>对行记录加锁需要注意：</p>
<ol>
<li>是否为隐私锁，隐式锁并且没有冲突，不需要产生锁对象，否则产生对象并加入等待队列</li>
<li>锁对象是否可以重用，前提是同一个事务锁同一页记录，而且模式相同，或锁同一记录，第二次锁强度弱</li>
</ol>
<p>InnoDB锁是根据事务和页进行管理和组织的</p>
<p>哈希表只能找到记录所在页的锁对象，然后通过位图查找</p>
<h5 id="962-加锁过程"><a class="markdownIt-Anchor" href="#962-加锁过程"></a> 9.6.2 加锁过程</h5>
<ol>
<li>通过主键加锁的语句，仅对聚簇索引记录加锁</li>
<li>通过辅助索引加锁的语句，首先对辅助索引记录加锁，再对聚簇索引记录加锁</li>
<li>通过辅助索引记录加锁的语句，可能还需要对下一条记录加锁（避免幻读），若为唯一约束，则不需要，否则可能会再第二次读取时读到新插入的数据</li>
</ol>
<h4 id="97-行锁的维护"><a class="markdownIt-Anchor" href="#97-行锁的维护"></a> 9.7 行锁的维护</h4>
<p>锁对象映射到哈希桶中</p>
<h5 id="971-插入"><a class="markdownIt-Anchor" href="#971-插入"></a> 9.7.1 插入</h5>
<ol>
<li>对表加IX锁</li>
<li>根据查询模式定位记录位置</li>
<li>判断记录是否有锁，有就等待是否，没有就插入</li>
<li>若有辅助索引，还需根据2，3进行锁判断，插入后需要更新最大事务id</li>
</ol>
<p>插入记录需要定位下一条记录，这是next-key lock邻键锁算法要求，要获取下一个记录的锁，如果有锁 说明当前区域被锁定，不能插入。插入后还需要更新锁定范围</p>
<h5 id="972-更新"><a class="markdownIt-Anchor" href="#972-更新"></a> 9.7.2 更新</h5>
<p>更新（删除）前，先尝试加x（隐式）锁，若存在其他锁，事务被阻塞，等待锁释放</p>
<ol>
<li>聚簇索引加锁成功，转化为显示锁</li>
<li>辅助索引加锁成功，更新最大事务id</li>
</ol>
<p>若不能原地更新，需要把锁信息移到infinum记录上</p>
<h5 id="973-purge"><a class="markdownIt-Anchor" href="#973-purge"></a> 9.7.3 purge</h5>
<p>对标记删除的记录真正删除后，需要更新下一个记录的锁定范围。考虑时注意</p>
<h5 id="974-一致性锁定读"><a class="markdownIt-Anchor" href="#974-一致性锁定读"></a> 9.7.4 一致性锁定读</h5>
<p>默认情况，InnoDB使用一致性非锁定读。某些情况需要使用一致性锁定读保证数据的一致性，可以用lokc in share mode和for update加锁。</p>
<h5 id="975-页的分裂"><a class="markdownIt-Anchor" href="#975-页的分裂"></a> 9.7.5 页的分裂</h5>
<p>当插入导致分裂时</p>
<ol>
<li>确定分裂点记录</li>
<li>分裂点到supernum锁移到到新页，修改bitmap</li>
<li>调用函数将原superme移到新的superme（原gap锁后移）</li>
<li>将新页的第一条记录锁信息移到前页的superme（原gap锁前移）</li>
</ol>
<h5 id="976-页的合并"><a class="markdownIt-Anchor" href="#976-页的合并"></a> 9.7.6 页的合并</h5>
<ol>
<li>记录左页的最后一条记录</li>
<li>右页记录移到左页，更新锁信息</li>
<li>左页superme移到保存的左页最后一条记录</li>
<li>右页superme移到左页superme</li>
</ol>
<h4 id="98-自增锁"><a class="markdownIt-Anchor" href="#98-自增锁"></a> 9.8 自增锁</h4>
<p>自增锁插入后即释放，不会等事务提交才释放</p>
<p>自增长值并不持久化，而是每次启动时查询最大获得</p>
<p>自增锁和表的读写锁不互容</p>
<h4 id="99-死锁"><a class="markdownIt-Anchor" href="#99-死锁"></a> 9.9 死锁</h4>
<h5 id="991-死锁的概念"><a class="markdownIt-Anchor" href="#991-死锁的概念"></a> 9.9.1 死锁的概念</h5>
<p>两个或两个以上事务争夺资源的过程中互相等待的现象。</p>
<p>解决死锁的基本办法是超时回滚。</p>
<p>除了超时机制，数据库一般还采用等待图的方式进行死锁检查，保存了两种信息：</p>
<ol>
<li>锁的信息链表</li>
<li>事务等待链表</li>
</ol>
<p>若链表构造的图出现回路，就代表产生了死锁。采用深度优先搜索算法，每次加锁需要等待时，就调用判断是否会产生死锁，有就回滚事务</p>
<h5 id="992-死锁概率"><a class="markdownIt-Anchor" href="#992-死锁概率"></a> 9.9.2 死锁概率</h5>
<p>死锁概率=(n^2 * r^4)/4R   n是事务量，R是记录量</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/03/21/mysql/innodb/9.%E9%94%81/" data-id="ckmk7004h003l4kvxh2iaf5sp" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/innodb/" rel="tag">innodb</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-mysql/innodb/8.索引页" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/21/mysql/innodb/8.%E7%B4%A2%E5%BC%95%E9%A1%B5/" class="article-date">
  <time class="post-time" datetime="2021-03-21T08:53:05.464Z" itemprop="datePublished">
    <span class="post-month">3月</span><br/>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/21/mysql/innodb/8.%E7%B4%A2%E5%BC%95%E9%A1%B5/">索引页</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/innodb/">innodb</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="索引页"><a class="markdownIt-Anchor" href="#索引页"></a> 索引页</h3>
<p>InnoDB是索引组织表，聚簇索引的叶子节点存放着完整的记录，辅助索引页中存放着指向叶子节点的书签</p>
<h4 id="82-页"><a class="markdownIt-Anchor" href="#82-页"></a> 8.2 页</h4>
<p>InnoDB定义了两种页，索引页和日志页</p>
<p>由于是索引组织表，索引即数据，索引页就是数据页</p>
<h4 id="83-存储结构"><a class="markdownIt-Anchor" href="#83-存储结构"></a> 8.3 存储结构</h4>
<h5 id="831-page-header"><a class="markdownIt-Anchor" href="#831-page-header"></a> 8.3.1 Page Header</h5>
<p>page header保存页的信息，占56个字节，每个页都有两个伪记录。当删除页中记录时，page_free指向最近删除的空间，通过记录record header中的next header串联得到一个空闲链表</p>
<p>当记录申请空间时，检查page_free的空间是否够用，不够用直接去page_heap_top申请，不会遍历链表，之前的空间不会被重用。当页空间不足时，会进行页重新组织，根据主键记录排序，整理碎片空间</p>
<p>页记录是根据主键顺序排列的，顺序是逻辑上的，不是物理的（开销很大）。因此页是一个存储记录的堆，其中记录无序。</p>
<p>在传统B+树，分裂操作向左进行。InnoDB根据值判断插入放心，顺序升序插入、顺序降序插入、无序随机插入导致不同的分裂策略。</p>
<p>为了更好的顺序性存储，叶子和非叶子节点存放在不同的段对象中。</p>
<h5 id="832-page-directory"><a class="markdownIt-Anchor" href="#832-page-directory"></a> 8.3.2 page directory</h5>
<p>当进行记录查询，需要page directory。B+树只能查询到页，然后根据page directory（位于页的尾部）定位。</p>
<p>page directory由槽组成（slot），每个槽两个字节，按主键顺序逆序。</p>
<p>为了提高存储和插入效率，槽采用稀疏方式，每个槽对应了一个记录，每个槽总时包含4-8条记录。槽保证在一定范围内，当超过范围，槽会分裂产生新的槽，当低于数量，会平衡槽中记录数，可能导致删除和合并槽</p>
<h4 id="84-page-cursor"><a class="markdownIt-Anchor" href="#84-page-cursor"></a> 8.4 Page Cursor</h4>
<h5 id="841-定位记录"><a class="markdownIt-Anchor" href="#841-定位记录"></a> 8.4.1 定位记录</h5>
<p>page cursor是一个指向记录所在位置的游标，用来定位记录，通过查询模式向前或向后扫描记录</p>
<p>由于page directory是稀疏机构，因此首先通过二叉查找定位记录所在槽，然后通过二叉查找的扫描记录。</p>
<h5 id="842-插入记录"><a class="markdownIt-Anchor" href="#842-插入记录"></a> 8.4.2 插入记录</h5>
<p>插入的记录可以是物理记录，也可是逻辑记录。通常是逻辑记录，转化成物流记录。cursor指向插入记录之前的记录</p>
<p>插入记录会对页进行修改，会产生redo log。插入的redo log就是cursor定位的记录偏移量+插入的记录。为了性能，进行记录压缩。策略是找到cursor记录和当前记录的第一个不同字节，不需要对前面重复的内容记录。</p>
<p>记录插入通常将逻辑记录插入页，记录插入完成后，需要对page directory维护，看看槽是否需要平衡</p>
<h5 id="843-删除记录"><a class="markdownIt-Anchor" href="#843-删除记录"></a> 8.4.3 删除记录</h5>
<p>将记录标记为删除，然后将记录的空间放到page_header的page_free前端。需要对page directory维护</p>
<p>删除的redo log，额外的记录删除记录在页中的偏移量</p>
<h5 id="844-并发控制"><a class="markdownIt-Anchor" href="#844-并发控制"></a> 8.4.4 并发控制</h5>
<p>对于索引页的并发控制是在上层的调用中进行的，索引页不加锁</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/03/21/mysql/innodb/8.%E7%B4%A2%E5%BC%95%E9%A1%B5/" data-id="ckmk7004g003j4kvxaj30gof7" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/innodb/" rel="tag">innodb</a></li></ul>

    </footer>
  </div>
  
</article>




  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/">&amp;laquo; pre</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/">next &amp;raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <h1 class="blog-title">Blog</h1>
    <h2 class="blog-subtitle"></h2>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="/images/20210321171549.jpg">
    <h2 class="author">Slorui</h2>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>41</strong><br>文章</div></a>
      <a href="/categories"><div><strong>7</strong><br>分类</div></a>
      <a href="/tags"><div><strong>11</strong><br>标签</div></a>
    </div>



    <div class="social-link">
      
        <a class="hvr-bounce-in" href="http://github.com/slorui" target="_blank" title="Github">
          Github
        </a>
      
    </div>

    <div class="friend-link">
      <h2>友情链接</h2>
      
        <a class="hvr-bounce-in" href="" target="_blank" title="ShanaMaid">
          ShanaMaid
        </a>
      
    </div>
  </div>
</div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy;2020 - 2021 Slorui<br>
      由<a href="http://hexo.io/" target="_blank">Hexo</a>强力驱动 | 
      主题-<a target="_blank" rel="noopener" href="https://github.com/ShanaMaid/hexo-theme-shana">Shana</a>
      
    </div>
    
  </div>
</footer>
    </div>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="//apps.bdimg.com/libs/wow/0.1.6/wow.min.js"></script>
<script>
new WOW().init();
</script>   


  
<link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css">

  
<script src="/plugin/fancybox/jquery.fancybox.pack.js"></script>




  
<link rel="stylesheet" href="/plugin/galmenu/GalMenu.css">

  
<script src="/plugin/galmenu/GalMenu.js"></script>

  <div class="GalMenu GalDropDown">
      <div class="circle" id="gal">
        <div class="ring">
          
            <a href="/" title="" class="menuItem">首页</a>
          
            <a href="/tags" title="" class="menuItem">标签</a>
          
            <a href="/categories" title="" class="menuItem">分类</a>
          
            <a href="/archives" title="" class="menuItem">归档</a>
          
            <a href="/xxxxxxxxx" title="" class="menuItem">xxx</a>
          
            <a href="/xxxxxxx" title="" class="menuItem">xxxx</a>
          
        </div>
        
          <audio id="audio" src="#"></audio>
        
      </div> 
</div>
<div id="overlay" style="opacity: 1; cursor: pointer;"></div>
  <script type="text/javascript">var items = document.querySelectorAll('.menuItem');
    for (var i = 0,
    l = items.length; i < l; i++) {
      items[i].style.left = (50 - 35 * Math.cos( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%";
      items[i].style.top = (50 + 35 * Math.sin( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%"
    }</script>
<script type="text/javascript">
  $(document).ready(function() {
    $('body').GalMenu({
      'menu': 'GalDropDown'
    })
  });
</script>

  <section class="hidden-xs"> 
  <ul class="cb-slideshow"> 
    <li><span>苟利</span></li> 
    <li><span>国家</span></li> 
    <li><span>生死以</span></li> 
    <li><span>岂能</span></li> 
    <li><span>祸福</span></li> 
    <li><span>趋避之</span></li> 
  </ul>
</section>

<script src="/js/script.js"></script>




  </div>
</body>
</html>